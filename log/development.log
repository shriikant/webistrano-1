Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (2.0ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreateProjects (1)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "projects" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "template" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('1')[0m
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateStages (2)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "stages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "project_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('2')[0m
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateRoles (3)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "stage_id" integer, "host_id" integer, "primary" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('3')[0m
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateHosts (4)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "hosts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('4')[0m
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateConfigurationParameters (5)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "configuration_parameters" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "value" varchar(255), "project_id" integer, "stage_id" integer, "type" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('5')[0m
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateProjectConfigurations (6)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "project_configurations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('6')[0m
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to CreateStageConfigurations (7)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "stage_configurations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('7')[0m
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to CreateDeployments (8)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "deployments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "task" varchar(255), "log" text, "success" integer DEFAULT 0, "stage_id" integer, "created_at" datetime, "updated_at" datetime, "completed_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "deployments_roles" ("deployment_id" integer, "role_id" integer) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('8')
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddNoReleaseToRole (9)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "roles" ADD "no_release" integer DEFAULT 0[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('9')
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddPromptToConfigurationParameter (10)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "configuration_parameters" ADD "prompt_on_deploy" integer DEFAULT 0[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('10')
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddSshPortToRole (11)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "roles" ADD "ssh_port" integer[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('11')
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to AddNotifyToStage (12)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "stages" ADD "alert_emails" text[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('12')
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateRecipes (13)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "recipes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "body" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "projects_recipes" ("recipe_id" integer, "project_id" integer) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('13')[0m
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddCommentToDeployment (14)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "deployments" ADD "comment" text
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('14')[0m
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to LinkUsersAndDeployments (16)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "deployments" ADD "user_id" integer
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('16')[0m
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to MoveRecipesToStages (18)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "recipes_stages" ("recipe_id" integer, "stage_id" integer) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('18')[0m
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to RemoveProjectRecipes (19)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "projects_recipes"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('19')[0m
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddNoSymlinkToRole (20)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "roles" ADD "no_symlink" integer DEFAULT 0
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20')[0m
  [1m[35m (0.4ms)[0m  commit transaction
Migrating to RenameCommentToDescription (21)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TEMPORARY TABLE "altered_deployments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "task" varchar(255), "log" text, "success" integer DEFAULT 0, "stage_id" integer, "created_at" datetime, "updated_at" datetime, "completed_at" datetime, "description" text, "user_id" integer) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "deployments"[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "deployments"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "deployments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "task" varchar(255), "log" text, "success" integer DEFAULT 0, "stage_id" integer, "created_at" datetime, "updated_at" datetime, "completed_at" datetime, "description" text, "user_id" integer) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "altered_deployments"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "altered_deployments"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('21')
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to AddExcludeHostsToDeployment (23)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "deployments" ADD "excluded_host_ids" varchar(255)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('23')
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateRecipeVersions (20080621203016)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "recipe_versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "recipe_id" integer, "version" integer, "user_id" integer, "name" varchar(255), "body" text, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20080621203016')
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to AddRecipeVersion (20080621205235)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "recipes" ADD "version" integer DEFAULT 1[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20080621205235')
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to FixRecipeVersioningForExistingOnes (20080916114012)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "recipes" SET version = 1[0m
  [1m[35m (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20080916114012')
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to ConvertWwwRolesToWeb (20080916114932)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "roles" SET name = 'web' WHERE (name = 'www')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20080916114932')
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
Migrating to RemoveRecipeVersionsUserId (20080917194020)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "altered_recipe_versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "recipe_id" integer, "version" integer, "user_id" integer, "name" varchar(255), "body" text, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "recipe_versions"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "recipe_versions"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "recipe_versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "recipe_id" integer, "version" integer, "name" varchar(255), "body" text, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "altered_recipe_versions"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_recipe_versions"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20080917194020')[0m
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddRevisionToDeployment (20080924201241)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  ALTER TABLE "deployments" ADD "revision" varchar(255)
  [1m[36m (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20080924201241')[0m
  [1m[35m (0.6ms)[0m  commit transaction
Migrating to AddPidToDeployment (20080925101639)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "deployments" ADD "pid" integer
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20080925101639')[0m
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddRealStatusFieldToDeployment (20080925111006)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "deployments" ADD "status" varchar(255) DEFAULT 'running'
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "deployments" SET status = 'failed' WHERE (success = 0)[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "deployments" SET status = 'success' WHERE (success = 1)
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "altered_deployments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "task" varchar(255), "log" text, "success" integer DEFAULT 0, "stage_id" integer, "created_at" datetime, "updated_at" datetime, "completed_at" datetime, "description" text, "user_id" integer, "excluded_host_ids" varchar(255), "revision" varchar(255), "pid" integer, "status" varchar(255) DEFAULT 'running') [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "deployments"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "deployments"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "deployments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "task" varchar(255), "log" text, "stage_id" integer, "created_at" datetime, "updated_at" datetime, "completed_at" datetime, "description" text, "user_id" integer, "excluded_host_ids" varchar(255), "revision" varchar(255), "pid" integer, "status" varchar(255) DEFAULT 'running') 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "altered_deployments"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_deployments"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20080925111006')[0m
  [1m[35m (0.5ms)[0m  commit transaction
Migrating to AddLockingToStage (20090223081938)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "stages" ADD "locked_by_deployment_id" integer
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "stages" ADD "locked" integer DEFAULT 0[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20090223081938')
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Migrating to DeviseCreateUsers (20110112150457)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(255), "admin" integer DEFAULT 0, "time_zone" varchar(255) DEFAULT 'UTC', "disabled" datetime, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_users_on_disabled" ON "users" ("disabled")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110112150457')[0m
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to ImproveUsersTable (20110113085919)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  DROP INDEX "index_users_on_disabled"
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(255), "admin" integer DEFAULT 0, "time_zone" varchar(255) DEFAULT 'UTC', "disabled_at" datetime, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "temp_index_altered_users_on_reset_password_token" ON "altered_users" ("reset_password_token")
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "temp_index_altered_users_on_email" ON "altered_users" ("email")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "users"
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(255), "admin" integer DEFAULT 0, "time_zone" varchar(255) DEFAULT 'UTC', "disabled_at" datetime, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.2ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(255), "admin" integer DEFAULT 0, "time_zone" varchar(255) DEFAULT 'UTC', "disabled_at" datetime, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "temp_index_altered_users_on_reset_password_token" ON "altered_users" ("reset_password_token")
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "temp_index_altered_users_on_email" ON "altered_users" ("email")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "users"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(255), "admin" boolean DEFAULT 'f', "time_zone" varchar(255) DEFAULT 'UTC', "disabled_at" datetime, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_users_on_disabled_at" ON "users" ("disabled_at")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110113085919')
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Connecting to database specified by database.yml
  [1m[36m (3.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (2.5ms)[0m  DROP TABLE "configuration_parameters"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "configuration_parameters" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "value" varchar(255), "project_id" integer, "stage_id" integer, "type" varchar(255), "created_at" datetime, "updated_at" datetime, "prompt_on_deploy" integer DEFAULT 0) [0m
  [1m[35m (0.8ms)[0m  DROP TABLE "deployments"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "deployments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "task" varchar(255), "log" text, "stage_id" integer, "created_at" datetime, "updated_at" datetime, "completed_at" datetime, "description" text, "user_id" integer, "excluded_host_ids" varchar(255), "revision" varchar(255), "pid" integer, "status" varchar(255) DEFAULT 'running') [0m
  [1m[35m (0.7ms)[0m  DROP TABLE "deployments_roles"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "deployments_roles" ("deployment_id" integer, "role_id" integer) [0m
  [1m[35m (0.7ms)[0m  DROP TABLE "hosts"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "hosts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.8ms)[0m  DROP TABLE "project_configurations"
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "project_configurations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.8ms)[0m  DROP TABLE "projects"
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "projects" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "template" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.8ms)[0m  DROP TABLE "recipe_versions"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "recipe_versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "recipe_id" integer, "version" integer, "name" varchar(255), "body" text, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.8ms)[0m  DROP TABLE "recipes"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "recipes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "body" text, "created_at" datetime, "updated_at" datetime, "version" integer DEFAULT 1) [0m
  [1m[35m (0.8ms)[0m  DROP TABLE "recipes_stages"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "recipes_stages" ("recipe_id" integer, "stage_id" integer) [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "roles"
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "stage_id" integer, "host_id" integer, "primary" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "no_release" integer DEFAULT 0, "ssh_port" integer, "no_symlink" integer DEFAULT 0) [0m
  [1m[35m (0.8ms)[0m  DROP TABLE "stage_configurations"
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "stage_configurations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.8ms)[0m  DROP TABLE "stages"
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "stages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "project_id" integer, "created_at" datetime, "updated_at" datetime, "alert_emails" text, "locked_by_deployment_id" integer, "locked" integer DEFAULT 0) [0m
  [1m[35m (1.2ms)[0m  DROP TABLE "users"
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(255), "admin" boolean DEFAULT 'f', "time_zone" varchar(255) DEFAULT 'UTC', "disabled_at" datetime, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE INDEX "index_users_on_disabled_at" ON "users" ("disabled_at")
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (2.8ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@example.com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE LOWER("users"."login") = LOWER('admin') LIMIT 1[0m
Binary data inserted for `string` type on column `encrypted_password`
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "users" ("admin", "created_at", "current_sign_in_at", "current_sign_in_ip", "disabled_at", "email", "encrypted_password", "last_sign_in_at", "last_sign_in_ip", "login", "remember_created_at", "reset_password_sent_at", "reset_password_token", "sign_in_count", "time_zone", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["admin", false], ["created_at", Mon, 31 Dec 2012 05:47:40 UTC +00:00], ["current_sign_in_at", nil], ["current_sign_in_ip", nil], ["disabled_at", nil], ["email", "admin@example.com"], ["encrypted_password", "$2a$10$HLsBJLkoDG3BwVunkzbqX.5XMcqdNE1mbeAsZhtMZTkikeiEbLJN."], ["last_sign_in_at", nil], ["last_sign_in_ip", nil], ["login", "admin"], ["remember_created_at", nil], ["reset_password_sent_at", nil], ["reset_password_token", nil], ["sign_in_count", 0], ["time_zone", "UTC"], ["updated_at", Mon, 31 Dec 2012 05:47:40 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "users" WHERE (LOWER("users"."login") = LOWER('admin') AND "users"."id" != 1) LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mUPDATE "users" SET "admin" = 't', "updated_at" = '2012-12-31 05:47:40.731052' WHERE "users"."id" = 1[0m
  [1m[35m (0.6ms)[0m  commit transaction
Connecting to database specified by database.yml
  [1m[36m (2.0ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (2.9ms)[0m  [1mCREATE TABLE "configuration_parameters" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "value" varchar(255), "project_id" integer, "stage_id" integer, "type" varchar(255), "created_at" datetime, "updated_at" datetime, "prompt_on_deploy" integer DEFAULT 0) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "deployments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "task" varchar(255), "log" text, "stage_id" integer, "created_at" datetime, "updated_at" datetime, "completed_at" datetime, "description" text, "user_id" integer, "excluded_host_ids" varchar(255), "revision" varchar(255), "pid" integer, "status" varchar(255) DEFAULT 'running') 
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "deployments_roles" ("deployment_id" integer, "role_id" integer) [0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "hosts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "project_configurations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "projects" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "template" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "recipe_versions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "recipe_id" integer, "version" integer, "name" varchar(255), "body" text, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "recipes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "description" text, "body" text, "created_at" datetime, "updated_at" datetime, "version" integer DEFAULT 1) 
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "recipes_stages" ("recipe_id" integer, "stage_id" integer) [0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "stage_id" integer, "host_id" integer, "primary" integer DEFAULT 0, "created_at" datetime, "updated_at" datetime, "no_release" integer DEFAULT 0, "ssh_port" integer, "no_symlink" integer DEFAULT 0) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "stage_configurations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "stages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "project_id" integer, "created_at" datetime, "updated_at" datetime, "alert_emails" text, "locked_by_deployment_id" integer, "locked" integer DEFAULT 0) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(255), "admin" boolean DEFAULT 'f', "time_zone" varchar(255) DEFAULT 'UTC', "disabled_at" datetime, "email" varchar(255) DEFAULT '' NOT NULL, "encrypted_password" varchar(255) DEFAULT '' NOT NULL, "reset_password_token" varchar(255), "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar(255), "last_sign_in_ip" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.7ms)[0m  CREATE INDEX "index_users_on_disabled_at" ON "users" ("disabled_at")
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110113085919')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('1')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('2')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('3')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('4')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('5')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('6')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('7')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('8')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('9')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('10')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('11')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('12')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('13')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('14')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('16')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('18')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('19')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('21')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('23')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20080621203016')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20080621205235')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20080916114012')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20080916114932')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20080917194020')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20080924201241')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20080925101639')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20080925111006')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20090223081938')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110112150457')
Connecting to database specified by database.yml


Started GET "/" for 127.0.0.1 at 2012-12-31 14:48:30 +0900
Processing by ProjectsController#dashboard as HTML
Completed 401 Unauthorized in 9ms


Started GET "/users/sign_in" for 127.0.0.1 at 2012-12-31 14:48:30 +0900
Processing by Devise::SessionsController#new as HTML
  Rendered devise/sessions/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 192ms (Views: 166.1ms | ActiveRecord: 3.5ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2012-12-31 14:48:39 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Z+0TqRkxDcZZY0aM6kqzKHqJH29jDi78SZKeeuUVe/w=", "user"=>{"login"=>"admin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ã‚µã‚¤ãƒ³ã‚¤ãƒ³"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."login" = 'admin' LIMIT 1[0m
Completed 401 Unauthorized in 288ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Z+0TqRkxDcZZY0aM6kqzKHqJH29jDi78SZKeeuUVe/w=", "user"=>{"login"=>"admin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ã‚µã‚¤ãƒ³ã‚¤ãƒ³"}
  Rendered devise/sessions/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 289ms (Views: 8.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2012-12-31 14:48:56 +0900
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Z+0TqRkxDcZZY0aM6kqzKHqJH29jDi78SZKeeuUVe/w=", "user"=>{"login"=>"admin", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"ã‚µã‚¤ãƒ³ã‚¤ãƒ³"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."login" = 'admin' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (3.2ms)[0m  UPDATE "users" SET "last_sign_in_at" = '2012-12-31 05:48:57.251133', "current_sign_in_at" = '2012-12-31 05:48:57.251133', "last_sign_in_ip" = '127.0.0.1', "current_sign_in_ip" = '127.0.0.1', "sign_in_count" = 1, "updated_at" = '2012-12-31 05:48:57.254622' WHERE "users"."id" = 1
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 313ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2012-12-31 14:48:57 +0900
Processing by ProjectsController#dashboard as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mDeployment Load (0.2ms)[0m  [1mSELECT "deployments".* FROM "deployments" ORDER BY created_at DESC LIMIT 10[0m
  Rendered projects/dashboard.html.erb within layouts/application (1.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "projects" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  Rendered layouts/_projects.html.erb (6.1ms)
  Rendered layouts/_menu_box.html.erb (7.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "hosts" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  Rendered layouts/_hosts.html.erb (5.0ms)
  Rendered layouts/_menu_box.html.erb (6.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  Rendered layouts/_recipes.html.erb (3.9ms)
  Rendered layouts/_menu_box.html.erb (5.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY login ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "users" 
  Rendered layouts/_users.html.erb (3.1ms)
  Rendered layouts/_menu_box.html.erb (4.2ms)
  Rendered layouts/_menu.html.erb (137.3ms)
  Rendered layouts/_flash.html.erb (0.4ms)
Completed 200 OK in 216ms (Views: 151.0ms | ActiveRecord: 2.6ms)


Started GET "/users/1" for 127.0.0.1 at 2012-12-31 14:49:03 +0900
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "deployments" WHERE "deployments"."user_id" = 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(count_column) FROM (SELECT 1 AS count_column FROM "deployments" WHERE "deployments"."user_id" = 1 LIMIT 5) subquery_for_count 
  Rendered users/_deployments.html.erb (3.0ms)
  Rendered users/show.html.erb within layouts/application (9.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" 
  Rendered layouts/_projects.html.erb (2.6ms)
  Rendered layouts/_menu_box.html.erb (3.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "hosts" 
  Rendered layouts/_hosts.html.erb (1.6ms)
  Rendered layouts/_menu_box.html.erb (2.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  Rendered layouts/_recipes.html.erb (1.4ms)
  Rendered layouts/_menu_box.html.erb (2.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" ORDER BY login ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  Rendered layouts/_users.html.erb (1.9ms)
  Rendered layouts/_menu_box.html.erb (2.7ms)
  Rendered layouts/_menu.html.erb (14.2ms)
Completed 200 OK in 59ms (Views: 29.6ms | ActiveRecord: 1.4ms)


Started GET "/users/1/edit" for 127.0.0.1 at 2012-12-31 14:49:05 +0900
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "1"]]
  Rendered users/_form.html.erb (541.3ms)
  Rendered users/edit.html.erb within layouts/application (546.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "projects" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  Rendered layouts/_projects.html.erb (2.9ms)
  Rendered layouts/_menu_box.html.erb (3.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "hosts" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  Rendered layouts/_hosts.html.erb (1.6ms)
  Rendered layouts/_menu_box.html.erb (2.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  Rendered layouts/_recipes.html.erb (1.5ms)
  Rendered layouts/_menu_box.html.erb (2.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY login ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "users" 
  Rendered layouts/_users.html.erb (1.9ms)
  Rendered layouts/_menu_box.html.erb (2.8ms)
  Rendered layouts/_menu.html.erb (15.1ms)
Completed 200 OK in 571ms (Views: 567.1ms | ActiveRecord: 1.0ms)


Started PUT "/users/1" for 127.0.0.1 at 2012-12-31 14:49:15 +0900
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Z+0TqRkxDcZZY0aM6kqzKHqJH29jDi78SZKeeuUVe/w=", "user"=>{"login"=>"admin", "email"=>"admin@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "time_zone"=>"UTC", "admin"=>"1"}, "commit"=>"æ›´æ–°ã™ã‚‹", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT 1 AS one FROM "users" WHERE (LOWER("users"."login") = LOWER('admin') AND "users"."id" != 1) LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  Rendered layouts/_flash_error.html.erb (0.5ms)
  Rendered users/_form.html.erb (35.8ms)
  Rendered users/edit.html.erb within layouts/application (39.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" 
  Rendered layouts/_projects.html.erb (3.0ms)
  Rendered layouts/_menu_box.html.erb (3.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "hosts" 
  Rendered layouts/_hosts.html.erb (1.8ms)
  Rendered layouts/_menu_box.html.erb (2.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  Rendered layouts/_recipes.html.erb (1.5ms)
  Rendered layouts/_menu_box.html.erb (2.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" ORDER BY login ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  Rendered layouts/_users.html.erb (1.9ms)
  Rendered layouts/_menu_box.html.erb (2.7ms)
  Rendered layouts/_menu.html.erb (15.3ms)
Completed 200 OK in 373ms (Views: 60.9ms | ActiveRecord: 0.6ms)


Started GET "/projects/new" for 127.0.0.1 at 2012-12-31 14:49:20 +0900
Processing by ProjectsController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  Rendered projects/_form.html.erb (3.3ms)
  Rendered projects/new.html.erb within layouts/application (8.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" 
  Rendered layouts/_projects.html.erb (3.0ms)
  Rendered layouts/_menu_box.html.erb (3.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "hosts" 
  Rendered layouts/_hosts.html.erb (1.7ms)
  Rendered layouts/_menu_box.html.erb (2.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  Rendered layouts/_recipes.html.erb (1.5ms)
  Rendered layouts/_menu_box.html.erb (2.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" ORDER BY login ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  Rendered layouts/_users.html.erb (1.9ms)
  Rendered layouts/_menu_box.html.erb (2.8ms)
  Rendered layouts/_menu.html.erb (15.1ms)
Completed 200 OK in 92ms (Views: 29.1ms | ActiveRecord: 0.9ms)


Started GET "/hosts/new" for 127.0.0.1 at 2012-12-31 14:49:22 +0900
Processing by HostsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  Rendered hosts/_form.html.erb (1.6ms)
  Rendered hosts/new.html.erb within layouts/application (6.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" 
  Rendered layouts/_projects.html.erb (2.9ms)
  Rendered layouts/_menu_box.html.erb (3.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "hosts" 
  Rendered layouts/_hosts.html.erb (1.7ms)
  Rendered layouts/_menu_box.html.erb (2.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  Rendered layouts/_recipes.html.erb (1.4ms)
  Rendered layouts/_menu_box.html.erb (2.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" ORDER BY login ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  Rendered layouts/_users.html.erb (1.9ms)
  Rendered layouts/_menu_box.html.erb (2.8ms)
  Rendered layouts/_menu.html.erb (15.0ms)
Completed 200 OK in 37ms (Views: 28.4ms | ActiveRecord: 0.8ms)


Started GET "/recipes/new" for 127.0.0.1 at 2012-12-31 14:49:23 +0900
Processing by RecipesController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  Rendered recipes/_preview.html.erb (6.8ms)
  Rendered recipes/_form.html.erb (11.2ms)
  Rendered recipes/new.html.erb within layouts/application (15.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" 
  Rendered layouts/_projects.html.erb (2.9ms)
  Rendered layouts/_menu_box.html.erb (3.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "hosts" 
  Rendered layouts/_hosts.html.erb (1.7ms)
  Rendered layouts/_menu_box.html.erb (2.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  Rendered layouts/_recipes.html.erb (1.5ms)
  Rendered layouts/_menu_box.html.erb (2.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" ORDER BY login ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  Rendered layouts/_users.html.erb (2.0ms)
  Rendered layouts/_menu_box.html.erb (2.8ms)
  Rendered layouts/_menu.html.erb (15.1ms)
Completed 200 OK in 48ms (Views: 37.3ms | ActiveRecord: 0.8ms)


Started GET "/recipes/preview?recipe=&_=1356932964548" for 127.0.0.1 at 2012-12-31 14:49:24 +0900
Processing by RecipesController#preview as HTML
  Parameters: {"recipe"=>"", "_"=>"1356932964548"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  Rendered recipes/_preview.html.erb (1.3ms)
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.2ms)


Started GET "/recipes/preview?recipe=&_=1356932965548" for 127.0.0.1 at 2012-12-31 14:49:25 +0900
Processing by RecipesController#preview as HTML
  Parameters: {"recipe"=>"", "_"=>"1356932965548"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  Rendered recipes/_preview.html.erb (1.3ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)


Started GET "/recipes/preview?recipe=&_=1356932966549" for 127.0.0.1 at 2012-12-31 14:49:26 +0900
Processing by RecipesController#preview as HTML
  Parameters: {"recipe"=>"", "_"=>"1356932966549"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  Rendered recipes/_preview.html.erb (57.9ms)
Completed 200 OK in 60ms (Views: 58.8ms | ActiveRecord: 0.2ms)
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36mDeployment Load (46.3ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "deployments_roles" ON "roles"."id" = "deployments_roles"."role_id" WHERE "deployments_roles"."deployment_id" = 1
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mHost Load (0.1ms)[0m  [1mSELECT "hosts".* FROM "hosts" WHERE "hosts"."id" = 2 LIMIT 1[0m
  [1m[35mRecipe Load (0.2ms)[0m  SELECT "recipes".* FROM "recipes" INNER JOIN "recipes_stages" ON "recipes"."id" = "recipes_stages"."recipe_id" WHERE "recipes_stages"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
', "updated_at" = '2013-01-03 11:22:39.013570', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 1[0m
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36mProject Load (0.4ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.5ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
*** LOCAL SCM ERROR: svn: OPTIONS of ''https://svn.example.com/project/trunk'': Could not resolve hostname `svn.example.com'': Host not found (https://svn.example.com)
', "updated_at" = '2013-01-03 11:22:39.283148', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 1
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.1ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
*** LOCAL SCM ERROR: svn: OPTIONS of ''https://svn.example.com/project/trunk'': Could not resolve hostname `svn.example.com'': Host not found (https://svn.example.com)
*** Local scm command failed
', "updated_at" = '2013-01-03 11:22:39.294992', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 1[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.2ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mStage Load (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "stages" SET "locked" = 0 WHERE "stages"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "stages" SET "locked_by_deployment_id" = NULL WHERE "stages"."id" = 1[0m
  [1m[35mStage Load (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "deployments" SET "status" = 'failed', "completed_at" = '2013-01-03 11:22:39.301388', "updated_at" = '2013-01-03 11:22:39.301938', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 1[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m

Sent mail to rt.kametaro@gmail.com (69ms)
Date: Thu, 03 Jan 2013 20:22:39 +0900
From: Webistrano
To: rt.kametaro@gmail.com
Message-ID: <50e569ff6746a_e46e3fddb8835ad8749b6@tsuji-no-Mac-mini.local.mail>
Subject: Deployment of skelton/staging finished: failed
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


Connecting to database specified by database.yml
  [1m[36mDeployment Load (43.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "deployments_roles" ON "roles"."id" = "deployments_roles"."role_id" WHERE "deployments_roles"."deployment_id" = 2
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mHost Load (0.1ms)[0m  [1mSELECT "hosts".* FROM "hosts" WHERE "hosts"."id" = 2 LIMIT 1[0m
  [1m[35mRecipe Load (0.1ms)[0m  SELECT "recipes".* FROM "recipes" INNER JOIN "recipes_stages" ON "recipes"."id" = "recipes_stages"."recipe_id" WHERE "recipes_stages"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
', "updated_at" = '2013-01-03 11:25:32.064841', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 2[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
', "updated_at" = '2013-01-03 11:25:32.086199', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 2
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.5ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 991ms
', "updated_at" = '2013-01-03 11:25:33.089710', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 2[0m
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  UPDATE "deployments" SET "revision" = '7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5', "updated_at" = '2013-01-03 11:25:33.094160', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 2
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "pid" = 58651, "updated_at" = '2013-01-03 11:25:33.097803', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 2[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.1ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 991ms
 * executing `deploy:hello''
', "updated_at" = '2013-01-03 11:25:33.106918', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 2
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.1ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 991ms
 * executing `deploy:hello''
 * executing "uname -a"
', "updated_at" = '2013-01-03 11:25:33.115731', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 2[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 991ms
 * executing `deploy:hello''
 * executing "uname -a"
 servers: ["49.212.141.250"]
', "updated_at" = '2013-01-03 11:25:33.124411', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 2
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.4ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 991ms
 * executing `deploy:hello''
 * executing "uname -a"
 servers: ["49.212.141.250"]
*** connection failed for: 49.212.141.250 (Net::SSH::AuthenticationFailed: deployment_user(SSH login))
', "updated_at" = '2013-01-03 11:25:36.059435', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 2[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.2ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mStage Load (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "stages" SET "locked" = 0 WHERE "stages"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "stages" SET "locked_by_deployment_id" = NULL WHERE "stages"."id" = 1[0m
  [1m[35mStage Load (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "deployments" SET "status" = 'failed', "completed_at" = '2013-01-03 11:25:36.068140', "updated_at" = '2013-01-03 11:25:36.068683', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 2[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m

Sent mail to rt.kametaro@gmail.com (83ms)
Date: Thu, 03 Jan 2013 20:25:36 +0900
From: Webistrano
To: rt.kametaro@gmail.com
Message-ID: <50e56ab02a282_e51b3fc704c35ae0129ca@tsuji-no-Mac-mini.local.mail>
Subject: Deployment of skelton/staging finished: failed
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


Connecting to database specified by database.yml
  [1m[36mDeployment Load (6.7ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "deployments_roles" ON "roles"."id" = "deployments_roles"."role_id" WHERE "deployments_roles"."deployment_id" = 3
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mHost Load (0.1ms)[0m  [1mSELECT "hosts".* FROM "hosts" WHERE "hosts"."id" = 2 LIMIT 1[0m
  [1m[35mRecipe Load (0.1ms)[0m  SELECT "recipes".* FROM "recipes" INNER JOIN "recipes_stages" ON "recipes"."id" = "recipes_stages"."recipe_id" WHERE "recipes_stages"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
', "updated_at" = '2013-01-03 11:27:22.181818', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 3[0m
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
', "updated_at" = '2013-01-03 11:27:22.202046', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 3
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1611ms
', "updated_at" = '2013-01-03 11:27:23.825307', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 3[0m
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "deployments" SET "revision" = '7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5', "updated_at" = '2013-01-03 11:27:23.830578', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 3
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "pid" = 58870, "updated_at" = '2013-01-03 11:27:23.833287', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 3[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1611ms
 * executing `deploy:hello''
', "updated_at" = '2013-01-03 11:27:23.842571', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 3
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.1ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1611ms
 * executing `deploy:hello''
 * executing "uname -a"
', "updated_at" = '2013-01-03 11:27:23.851443', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 3[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1611ms
 * executing `deploy:hello''
 * executing "uname -a"
 servers: ["49.212.141.250"]
', "updated_at" = '2013-01-03 11:27:23.860319', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 3
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.5ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1611ms
 * executing `deploy:hello''
 * executing "uname -a"
 servers: ["49.212.141.250"]
*** connection failed for: 49.212.141.250 (Net::SSH::AuthenticationFailed: kametaro)
', "updated_at" = '2013-01-03 11:27:26.647666', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 3[0m
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.3ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "stages" SET "locked" = 0 WHERE "stages"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "stages" SET "locked_by_deployment_id" = NULL WHERE "stages"."id" = 1[0m
  [1m[35mStage Load (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "deployments" SET "status" = 'failed', "completed_at" = '2013-01-03 11:27:26.659447', "updated_at" = '2013-01-03 11:27:26.660204', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 3[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m

Sent mail to rt.kametaro@gmail.com (84ms)
Date: Thu, 03 Jan 2013 20:27:26 +0900
From: Webistrano
To: rt.kametaro@gmail.com
Message-ID: <50e56b1ec6662_e5f63fcb25835ad8752cb@tsuji-no-Mac-mini.local.mail>
Subject: Deployment of skelton/staging finished: failed
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


Connecting to database specified by database.yml
  [1m[36mDeployment Load (46.2ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "deployments_roles" ON "roles"."id" = "deployments_roles"."role_id" WHERE "deployments_roles"."deployment_id" = 4
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mHost Load (0.1ms)[0m  [1mSELECT "hosts".* FROM "hosts" WHERE "hosts"."id" = 2 LIMIT 1[0m
  [1m[35mRecipe Load (0.1ms)[0m  SELECT "recipes".* FROM "recipes" INNER JOIN "recipes_stages" ON "recipes"."id" = "recipes_stages"."recipe_id" WHERE "recipes_stages"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
', "updated_at" = '2013-01-03 11:28:13.569491', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 4[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
', "updated_at" = '2013-01-03 11:28:13.589659', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 4
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.4ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1071ms
', "updated_at" = '2013-01-03 11:28:14.673873', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 4[0m
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "deployments" SET "revision" = '7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5', "updated_at" = '2013-01-03 11:28:14.678697', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 4
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "pid" = 58935, "updated_at" = '2013-01-03 11:28:14.681669', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 4[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1071ms
 * executing `deploy:hello''
', "updated_at" = '2013-01-03 11:28:14.690971', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 4
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1071ms
 * executing `deploy:hello''
 * executing "uname -a"
', "updated_at" = '2013-01-03 11:28:14.700011', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 4[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1071ms
 * executing `deploy:hello''
 * executing "uname -a"
 servers: ["49.212.141.250"]
', "updated_at" = '2013-01-03 11:28:14.708851', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 4
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.4ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1071ms
 * executing `deploy:hello''
 * executing "uname -a"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
', "updated_at" = '2013-01-03 11:28:15.428436', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 4[0m
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36mProject Load (0.4ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.6ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1071ms
 * executing `deploy:hello''
 * executing "uname -a"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 ** [out :: 49.212.141.250] Linux ww8476ue.sakura.ne.jp 2.6.32-220.13.1.el6.x86_64 #1 SMP Tue Apr 17 23:56:34 BST 2012 x86_64 x86_64 x86_64 GNU/Linux
', "updated_at" = '2013-01-03 11:28:15.497942', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 4
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.4ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1071ms
 * executing `deploy:hello''
 * executing "uname -a"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 ** [out :: 49.212.141.250] Linux ww8476ue.sakura.ne.jp 2.6.32-220.13.1.el6.x86_64 #1 SMP Tue Apr 17 23:56:34 BST 2012 x86_64 x86_64 x86_64 GNU/Linux
 command finished in 136ms
', "updated_at" = '2013-01-03 11:28:15.509635', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 4[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mStage Load (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "stages" SET "locked" = 0 WHERE "stages"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "stages" SET "locked_by_deployment_id" = NULL WHERE "stages"."id" = 1[0m
  [1m[35mStage Load (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "deployments" SET "status" = 'success', "completed_at" = '2013-01-03 11:28:15.515595', "updated_at" = '2013-01-03 11:28:15.516063', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 4[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m

Sent mail to rt.kametaro@gmail.com (84ms)
Date: Thu, 03 Jan 2013 20:28:15 +0900
From: Webistrano
To: rt.kametaro@gmail.com
Message-ID: <50e56b4f97aaa_e6373ffa95435ad8409f5@tsuji-no-Mac-mini.local.mail>
Subject: Deployment of skelton/staging finished: success
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit


Connecting to database specified by database.yml


Started GET "/" for 127.0.0.1 at 2013-01-04 00:11:44 +0900
Processing by ProjectsController#dashboard as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mDeployment Load (0.2ms)[0m  SELECT "deployments".* FROM "deployments" ORDER BY created_at DESC LIMIT 10
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  Rendered deployments/_list_item.html.erb (167.7ms)
  Rendered projects/dashboard.html.erb within layouts/application (263.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" ORDER BY name ASC
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stages" WHERE "stages"."project_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  Rendered layouts/_projects.html.erb (16.4ms)
  Rendered layouts/_menu_box.html.erb (18.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "hosts" 
  [1m[36mHost Load (0.1ms)[0m  [1mSELECT "hosts".* FROM "hosts" ORDER BY name ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "hosts" 
  Rendered layouts/_hosts.html.erb (10.9ms)
  Rendered layouts/_menu_box.html.erb (11.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mRecipe Load (0.1ms)[0m  [1mSELECT "recipes".* FROM "recipes" ORDER BY name ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  Rendered layouts/_recipes.html.erb (10.5ms)
  Rendered layouts/_menu_box.html.erb (11.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY login ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "users" 
  Rendered layouts/_users.html.erb (2.9ms)
  Rendered layouts/_menu_box.html.erb (3.9ms)
  Rendered layouts/_menu.html.erb (152.3ms)
Completed 200 OK in 557ms (Views: 449.6ms | ActiveRecord: 6.5ms)


Started GET "/projects/1" for 127.0.0.1 at 2013-01-04 00:11:48 +0900
Processing by ProjectsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stages" WHERE "stages"."project_id" = 1[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 ORDER BY name ASC
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "deployments" INNER JOIN "stages" ON "deployments"."stage_id" = "stages"."id" WHERE "stages"."project_id" = 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1
  [1m[36mProjectConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  Rendered projects/_configs.html.erb (87.6ms)
  [1m[35m (0.2ms)[0m  SELECT DISTINCT COUNT(DISTINCT "hosts"."id") FROM "hosts" INNER JOIN "roles" ON "hosts"."id" = "roles"."host_id" WHERE "roles"."stage_id" = 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "deployments" WHERE "deployments"."stage_id" = 1[0m
  Rendered projects/_stages.html.erb (20.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "deployments" INNER JOIN "stages" ON "deployments"."stage_id" = "stages"."id" WHERE "stages"."project_id" = 1
  [1m[36mDeployment Load (0.2ms)[0m  [1mSELECT "deployments".* FROM "deployments" INNER JOIN "stages" ON "deployments"."stage_id" = "stages"."id" WHERE "stages"."project_id" = 1 ORDER BY deployments.created_at DESC LIMIT 3[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  Rendered deployments/_list_item.html.erb (12.3ms)
  Rendered projects/_deployments.html.erb (16.0ms)
  Rendered projects/show.html.erb within layouts/application (156.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" ORDER BY name ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "stages" WHERE "stages"."project_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  Rendered layouts/_projects.html.erb (4.0ms)
  Rendered layouts/_menu_box.html.erb (4.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "hosts" 
  [1m[36mHost Load (0.1ms)[0m  [1mSELECT "hosts".* FROM "hosts" ORDER BY name ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "hosts" 
  Rendered layouts/_hosts.html.erb (3.2ms)
  Rendered layouts/_menu_box.html.erb (3.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mRecipe Load (0.1ms)[0m  [1mSELECT "recipes".* FROM "recipes" ORDER BY name ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  Rendered layouts/_recipes.html.erb (1.7ms)
  Rendered layouts/_menu_box.html.erb (2.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY login ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "users" 
  Rendered layouts/_users.html.erb (1.6ms)
  Rendered layouts/_menu_box.html.erb (2.4ms)
  Rendered layouts/_menu.html.erb (16.9ms)
Completed 200 OK in 182ms (Views: 176.7ms | ActiveRecord: 3.1ms)


Started GET "/projects/1/stages/1" for 127.0.0.1 at 2013-01-04 00:11:50 +0900
Processing by StagesController#show as HTML
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1[0m  [["id", "1"]]
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mRecipe Load (0.1ms)[0m  [1mSELECT "recipes".* FROM "recipes" INNER JOIN "recipes_stages" ON "recipes"."id" = "recipes_stages"."recipe_id" WHERE "recipes_stages"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35m (0.2ms)[0m  SELECT DISTINCT COUNT(DISTINCT "hosts"."id") FROM "hosts" INNER JOIN "roles" ON "hosts"."id" = "roles"."host_id" WHERE "roles"."stage_id" = 1
  Rendered stages/_configs.html.erb (1.2ms)
  Rendered stages/_effective_config.html.erb (2.4ms)
  [1m[36mRecipe Load (0.2ms)[0m  [1mSELECT "recipes".* FROM "recipes" INNER JOIN "recipes_stages" ON "recipes"."id" = "recipes_stages"."recipe_id" WHERE "recipes_stages"."stage_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "recipes".* FROM "recipes" INNER JOIN "recipes_stages" ON "recipes"."id" = "recipes_stages"."recipe_id" WHERE "recipes_stages"."stage_id" = 1 ORDER BY name ASC
  Rendered stages/_recipes.html.erb (3.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT DISTINCT COUNT(DISTINCT "hosts"."id") FROM "hosts" INNER JOIN "roles" ON "hosts"."id" = "roles"."host_id" WHERE "roles"."stage_id" = 1[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."stage_id" = 1 ORDER BY name ASC
  [1m[36mHost Load (0.1ms)[0m  [1mSELECT "hosts".* FROM "hosts" WHERE "hosts"."id" = 2 LIMIT 1[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" INNER JOIN "deployments_roles" ON "deployments"."id" = "deployments_roles"."deployment_id" WHERE "deployments_roles"."role_id" = 1
  Rendered stages/_roles.html.erb (20.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "deployments" WHERE "deployments"."stage_id" = 1[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."stage_id" = 1 ORDER BY created_at DESC
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  Rendered deployments/_list_item.html.erb (17.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "deployments" WHERE "deployments"."stage_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "deployments" WHERE "deployments"."stage_id" = 1
  Rendered stages/_deployments.html.erb (21.8ms)
  Rendered stages/show.html.erb within layouts/application (68.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" ORDER BY name ASC
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stages" WHERE "stages"."project_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  Rendered layouts/_projects.html.erb (4.4ms)
  Rendered layouts/_menu_box.html.erb (5.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "hosts" 
  [1m[36mHost Load (0.1ms)[0m  [1mSELECT "hosts".* FROM "hosts" ORDER BY name ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "hosts" 
  Rendered layouts/_hosts.html.erb (3.3ms)
  Rendered layouts/_menu_box.html.erb (4.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mRecipe Load (0.1ms)[0m  [1mSELECT "recipes".* FROM "recipes" ORDER BY name ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  Rendered layouts/_recipes.html.erb (1.6ms)
  Rendered layouts/_menu_box.html.erb (2.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY login ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "users" 
  Rendered layouts/_users.html.erb (1.7ms)
  Rendered layouts/_menu_box.html.erb (2.6ms)
  Rendered layouts/_menu.html.erb (17.7ms)
Completed 200 OK in 186ms (Views: 90.3ms | ActiveRecord: 3.9ms)


Started GET "/projects/1/stages/1/deployments/new?task=deploy" for 127.0.0.1 at 2013-01-04 00:11:52 +0900
Processing by DeploymentsController#new as HTML
  Parameters: {"task"=>"deploy", "project_id"=>"1", "stage_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" WHERE "roles"."stage_id" = 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.1ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mHost Load (0.2ms)[0m  SELECT DISTINCT "hosts".* FROM "hosts" INNER JOIN "roles" ON "hosts"."id" = "roles"."host_id" WHERE "roles"."stage_id" = 1
  Rendered deployments/_form.html.erb (4.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" WHERE "roles"."stage_id" = 1[0m
  Rendered deployments/new.html.erb within layouts/application (11.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "projects" 
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" ORDER BY name ASC[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 ORDER BY name ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stages" WHERE "stages"."project_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" 
  Rendered layouts/_projects.html.erb (4.0ms)
  Rendered layouts/_menu_box.html.erb (4.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  [1m[35mHost Load (0.1ms)[0m  SELECT "hosts".* FROM "hosts" ORDER BY name ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  Rendered layouts/_hosts.html.erb (3.2ms)
  Rendered layouts/_menu_box.html.erb (4.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mRecipe Load (0.1ms)[0m  SELECT "recipes".* FROM "recipes" ORDER BY name ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  Rendered layouts/_recipes.html.erb (1.6ms)
  Rendered layouts/_menu_box.html.erb (2.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" ORDER BY login ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  Rendered layouts/_users.html.erb (1.6ms)
  Rendered layouts/_menu_box.html.erb (2.4ms)
  Rendered layouts/_menu.html.erb (16.8ms)
Completed 200 OK in 43ms (Views: 33.5ms | ActiveRecord: 2.0ms)


Started POST "/projects/1/stages/1/deployments" for 127.0.0.1 at 2013-01-04 00:11:57 +0900
Processing by DeploymentsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"J+H6OEhthlXWOYnrKWUcgRd+qUe2NyRnRpYaXUF+fRM=", "deployment"=>{"task"=>"deploy", "description"=>"ã¦ã™ã¨", "host_ids"=>["2"]}, "commit"=>"ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ", "project_id"=>"1", "stage_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" WHERE "roles"."stage_id" = 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.1ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mHost Load (0.1ms)[0m  SELECT DISTINCT "hosts".* FROM "hosts" INNER JOIN "roles" ON "hosts"."id" = "roles"."host_id" WHERE "roles"."stage_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" WHERE "roles"."stage_id" = 1[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mStage Load (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (2.5ms)[0m  UPDATE "stages" SET "locked" = 1 WHERE "stages"."id" = 1
  [1m[36mStage Load (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" WHERE "roles"."stage_id" = 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "deployments" ("completed_at", "created_at", "description", "excluded_host_ids", "log", "pid", "revision", "stage_id", "status", "task", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["completed_at", nil], ["created_at", Thu, 03 Jan 2013 15:11:57 UTC +00:00], ["description", "ã¦ã™ã¨"], ["excluded_host_ids", "--- []\n"], ["log", nil], ["pid", nil], ["revision", nil], ["stage_id", 1], ["status", "running"], ["task", "deploy"], ["updated_at", Thu, 03 Jan 2013 15:11:57 UTC +00:00], ["user_id", 1]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."stage_id" = 1 ORDER BY name ASC
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "deployments_roles" ("deployment_id", "role_id") VALUES (5, 1)[0m
  [1m[35mStage Load (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "stages" SET "locked_by_deployment_id" = 5 WHERE "stages"."id" = 1[0m
  [1m[35mStage Load (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Calling other ruby process in the background in order to deploy deployment 5 (stage 1/staging)
Redirected to http://localhost:3000/projects/1/stages/1/deployments/5
Completed 302 Found in 47ms (ActiveRecord: 0.0ms)


Started GET "/projects/1/stages/1/deployments/5" for 127.0.0.1 at 2013-01-04 00:11:57 +0900
Processing by DeploymentsController#show as HTML
  Parameters: {"project_id"=>"1", "stage_id"=>"1", "id"=>"5"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1  [["id", "1"]]
  [1m[36mDeployment Load (0.2ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."stage_id" = 1 AND "deployments"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", "5"]]
  [1m[35mStage Load (0.2ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  Rendered deployments/_status.html.erb (7.3ms)
  Rendered deployments/show.html.erb within layouts/application (11.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "projects" 
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" ORDER BY name ASC[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 ORDER BY name ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stages" WHERE "stages"."project_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" 
  Rendered layouts/_projects.html.erb (5.2ms)
  Rendered layouts/_menu_box.html.erb (6.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  [1m[35mHost Load (0.1ms)[0m  SELECT "hosts".* FROM "hosts" ORDER BY name ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  Rendered layouts/_hosts.html.erb (3.8ms)
  Rendered layouts/_menu_box.html.erb (4.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mRecipe Load (0.1ms)[0m  SELECT "recipes".* FROM "recipes" ORDER BY name ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  Rendered layouts/_recipes.html.erb (2.0ms)
  Rendered layouts/_menu_box.html.erb (3.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" ORDER BY login ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  Rendered layouts/_users.html.erb (2.0ms)
  Rendered layouts/_menu_box.html.erb (3.0ms)
  Rendered layouts/_menu.html.erb (20.9ms)
Completed 200 OK in 45ms (Views: 37.7ms | ActiveRecord: 2.0ms)
Connecting to database specified by database.yml


Started GET "/projects/1/stages/1/deployments/5.js" for 127.0.0.1 at 2013-01-04 00:12:02 +0900
Processing by DeploymentsController#show as JS
  Parameters: {"project_id"=>"1", "stage_id"=>"1", "id"=>"5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1  [["id", "1"]]
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."stage_id" = 1 AND "deployments"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", "5"]]
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/kametaro-main/.rvm/rubies/ruby-1.9.3-p327/lib/ruby/1.9.1/benchmark.rb:295)
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  Rendered deployments/_status.html.erb (7.1ms)
Completed 200 OK in 13ms (Views: 8.4ms | ActiveRecord: 0.6ms)
  [1m[36mDeployment Load (6.7ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "deployments_roles" ON "roles"."id" = "deployments_roles"."role_id" WHERE "deployments_roles"."deployment_id" = 5
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mHost Load (0.1ms)[0m  [1mSELECT "hosts".* FROM "hosts" WHERE "hosts"."id" = 2 LIMIT 1[0m
  [1m[35mRecipe Load (0.1ms)[0m  SELECT "recipes".* FROM "recipes" INNER JOIN "recipes_stages" ON "recipes"."id" = "recipes_stages"."recipe_id" WHERE "recipes_stages"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
', "updated_at" = '2013-01-03 15:12:03.308819', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.1ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
', "updated_at" = '2013-01-03 15:12:03.370155', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.5ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.6ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.2ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
', "updated_at" = '2013-01-03 15:12:05.274907', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "revision" = '7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5', "updated_at" = '2013-01-03 15:12:05.278134', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "pid" = 73197, "updated_at" = '2013-01-03 15:12:05.280650', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.5ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
', "updated_at" = '2013-01-03 15:12:05.291106', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.6ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
', "updated_at" = '2013-01-03 15:12:05.305343', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.1ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
', "updated_at" = '2013-01-03 15:12:05.314747', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
 * executing `deploy:update_code''
', "updated_at" = '2013-01-03 15:12:05.323518', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
 * executing `deploy:update_code''
 * executing "git clone -q https://github.com/kametaro/skelton.git /path/to/deployment_base/releases/20130103151205 && cd /path/to/deployment_base/releases/20130103151205 && git checkout -q -b deploy 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 && (echo 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 > /path/to/deployment_base/releases/20130103151205/REVISION)"
', "updated_at" = '2013-01-03 15:12:05.348578', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
 * executing `deploy:update_code''
 * executing "git clone -q https://github.com/kametaro/skelton.git /path/to/deployment_base/releases/20130103151205 && cd /path/to/deployment_base/releases/20130103151205 && git checkout -q -b deploy 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 && (echo 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 > /path/to/deployment_base/releases/20130103151205/REVISION)"
 servers: ["49.212.141.250"]
', "updated_at" = '2013-01-03 15:12:05.358048', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5[0m
  [1m[35m (0.9ms)[0m  commit transaction


Started GET "/projects/1/stages/1/deployments/5.js" for 127.0.0.1 at 2013-01-04 00:12:07 +0900
Processing by DeploymentsController#show as JS
  Parameters: {"project_id"=>"1", "stage_id"=>"1", "id"=>"5"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1  [["id", "1"]]
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."stage_id" = 1 AND "deployments"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", "5"]]
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/kametaro-main/.rvm/rubies/ruby-1.9.3-p327/lib/ruby/1.9.1/benchmark.rb:295)
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  Rendered deployments/_status.html.erb (5.4ms)
Completed 200 OK in 12ms (Views: 6.7ms | ActiveRecord: 0.7ms)
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.5ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
 * executing `deploy:update_code''
 * executing "git clone -q https://github.com/kametaro/skelton.git /path/to/deployment_base/releases/20130103151205 && cd /path/to/deployment_base/releases/20130103151205 && git checkout -q -b deploy 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 && (echo 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 > /path/to/deployment_base/releases/20130103151205/REVISION)"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
', "updated_at" = '2013-01-03 15:12:11.078209', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.4ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
 * executing `deploy:update_code''
 * executing "git clone -q https://github.com/kametaro/skelton.git /path/to/deployment_base/releases/20130103151205 && cd /path/to/deployment_base/releases/20130103151205 && git checkout -q -b deploy 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 && (echo 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 > /path/to/deployment_base/releases/20130103151205/REVISION)"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 ** [49.212.141.250 :: out] fatal: could not create leading directories of ''/path/to/deployment_base/releases/20130103151205'': Permission denied
', "updated_at" = '2013-01-03 15:12:11.133464', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
 * executing `deploy:update_code''
 * executing "git clone -q https://github.com/kametaro/skelton.git /path/to/deployment_base/releases/20130103151205 && cd /path/to/deployment_base/releases/20130103151205 && git checkout -q -b deploy 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 && (echo 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 > /path/to/deployment_base/releases/20130103151205/REVISION)"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 ** [49.212.141.250 :: out] fatal: could not create leading directories of ''/path/to/deployment_base/releases/20130103151205'': Permission denied
 command finished in 118ms
', "updated_at" = '2013-01-03 15:12:11.143267', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.1ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
 * executing `deploy:update_code''
 * executing "git clone -q https://github.com/kametaro/skelton.git /path/to/deployment_base/releases/20130103151205 && cd /path/to/deployment_base/releases/20130103151205 && git checkout -q -b deploy 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 && (echo 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 > /path/to/deployment_base/releases/20130103151205/REVISION)"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 ** [49.212.141.250 :: out] fatal: could not create leading directories of ''/path/to/deployment_base/releases/20130103151205'': Permission denied
 command finished in 118ms
*** [deploy:update_code] rolling back
', "updated_at" = '2013-01-03 15:12:11.152340', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5[0m
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.4ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
 * executing `deploy:update_code''
 * executing "git clone -q https://github.com/kametaro/skelton.git /path/to/deployment_base/releases/20130103151205 && cd /path/to/deployment_base/releases/20130103151205 && git checkout -q -b deploy 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 && (echo 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 > /path/to/deployment_base/releases/20130103151205/REVISION)"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 ** [49.212.141.250 :: out] fatal: could not create leading directories of ''/path/to/deployment_base/releases/20130103151205'': Permission denied
 command finished in 118ms
*** [deploy:update_code] rolling back
 * executing "rm -rf /path/to/deployment_base/releases/20130103151205; true"
', "updated_at" = '2013-01-03 15:12:11.164018', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.1ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
 * executing `deploy:update_code''
 * executing "git clone -q https://github.com/kametaro/skelton.git /path/to/deployment_base/releases/20130103151205 && cd /path/to/deployment_base/releases/20130103151205 && git checkout -q -b deploy 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 && (echo 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 > /path/to/deployment_base/releases/20130103151205/REVISION)"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 ** [49.212.141.250 :: out] fatal: could not create leading directories of ''/path/to/deployment_base/releases/20130103151205'': Permission denied
 command finished in 118ms
*** [deploy:update_code] rolling back
 * executing "rm -rf /path/to/deployment_base/releases/20130103151205; true"
 servers: ["49.212.141.250"]
', "updated_at" = '2013-01-03 15:12:11.172744', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.5ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
 * executing `deploy:update_code''
 * executing "git clone -q https://github.com/kametaro/skelton.git /path/to/deployment_base/releases/20130103151205 && cd /path/to/deployment_base/releases/20130103151205 && git checkout -q -b deploy 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 && (echo 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 > /path/to/deployment_base/releases/20130103151205/REVISION)"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 ** [49.212.141.250 :: out] fatal: could not create leading directories of ''/path/to/deployment_base/releases/20130103151205'': Permission denied
 command finished in 118ms
*** [deploy:update_code] rolling back
 * executing "rm -rf /path/to/deployment_base/releases/20130103151205; true"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
', "updated_at" = '2013-01-03 15:12:11.233803', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.3ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.5ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
 * executing `deploy:update_code''
 * executing "git clone -q https://github.com/kametaro/skelton.git /path/to/deployment_base/releases/20130103151205 && cd /path/to/deployment_base/releases/20130103151205 && git checkout -q -b deploy 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 && (echo 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 > /path/to/deployment_base/releases/20130103151205/REVISION)"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 ** [49.212.141.250 :: out] fatal: could not create leading directories of ''/path/to/deployment_base/releases/20130103151205'': Permission denied
 command finished in 118ms
*** [deploy:update_code] rolling back
 * executing "rm -rf /path/to/deployment_base/releases/20130103151205; true"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 command finished in 104ms
', "updated_at" = '2013-01-03 15:12:11.288495', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.4ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 1888ms
 * executing `deploy''
 * executing `deploy:update''
 ** transaction: start
 * executing `deploy:update_code''
 * executing "git clone -q https://github.com/kametaro/skelton.git /path/to/deployment_base/releases/20130103151205 && cd /path/to/deployment_base/releases/20130103151205 && git checkout -q -b deploy 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 && (echo 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 > /path/to/deployment_base/releases/20130103151205/REVISION)"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 ** [49.212.141.250 :: out] fatal: could not create leading directories of ''/path/to/deployment_base/releases/20130103151205'': Permission denied
 command finished in 118ms
*** [deploy:update_code] rolling back
 * executing "rm -rf /path/to/deployment_base/releases/20130103151205; true"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 command finished in 104ms
*** failed: "sh -c ''git clone -q https://github.com/kametaro/skelton.git /path/to/deployment_base/releases/20130103151205 && cd /path/to/deployment_base/releases/20130103151205 && git checkout -q -b deploy 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 && (echo 7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5 > /path/to/deployment_base/releases/20130103151205/REVISION)''" on 49.212.141.250
', "updated_at" = '2013-01-03 15:12:11.300673', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.2ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mStage Load (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "stages" SET "locked" = 0 WHERE "stages"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "stages" SET "locked_by_deployment_id" = NULL WHERE "stages"."id" = 1
  [1m[36mStage Load (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  UPDATE "deployments" SET "status" = 'failed', "completed_at" = '2013-01-03 15:12:11.306770', "updated_at" = '2013-01-03 15:12:11.307238', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 5
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1

Sent mail to rt.kametaro@gmail.com (50ms)
Date: Fri, 04 Jan 2013 00:12:11 +0900
From: Webistrano
To: rt.kametaro@gmail.com
Message-ID: <50e59fcb67315_11ded3ff271435adc5931d@tsuji-no-Mac-mini.local.mail>
Subject: Deployment of skelton/staging finished: failed
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit




Started GET "/projects/1/stages/1/deployments/5.js" for 127.0.0.1 at 2013-01-04 00:12:12 +0900
Processing by DeploymentsController#show as JS
  Parameters: {"project_id"=>"1", "stage_id"=>"1", "id"=>"5"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1  [["id", "1"]]
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."stage_id" = 1 AND "deployments"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", "5"]]
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/kametaro-main/.rvm/rubies/ruby-1.9.3-p327/lib/ruby/1.9.1/benchmark.rb:295)
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  Rendered deployments/_status.html.erb (4.3ms)
Completed 200 OK in 10ms (Views: 5.5ms | ActiveRecord: 0.6ms)


Started GET "/projects/1/stages/1/deployments/5" for 127.0.0.1 at 2013-01-04 00:12:39 +0900
Processing by DeploymentsController#show as HTML
  Parameters: {"project_id"=>"1", "stage_id"=>"1", "id"=>"5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1  [["id", "1"]]
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."stage_id" = 1 AND "deployments"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", "5"]]
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  Rendered deployments/_status.html.erb (4.3ms)
  Rendered deployments/show.html.erb within layouts/application (6.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "projects" 
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" ORDER BY name ASC[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 ORDER BY name ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stages" WHERE "stages"."project_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" 
  Rendered layouts/_projects.html.erb (4.2ms)
  Rendered layouts/_menu_box.html.erb (5.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  [1m[35mHost Load (0.1ms)[0m  SELECT "hosts".* FROM "hosts" ORDER BY name ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  Rendered layouts/_hosts.html.erb (3.3ms)
  Rendered layouts/_menu_box.html.erb (4.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mRecipe Load (0.1ms)[0m  SELECT "recipes".* FROM "recipes" ORDER BY name ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  Rendered layouts/_recipes.html.erb (1.8ms)
  Rendered layouts/_menu_box.html.erb (2.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" ORDER BY login ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  Rendered layouts/_users.html.erb (1.6ms)
  Rendered layouts/_menu_box.html.erb (2.4ms)
  Rendered layouts/_menu.html.erb (17.9ms)
Completed 200 OK in 35ms (Views: 29.5ms | ActiveRecord: 1.6ms)


Started GET "/projects/1/stages/1" for 127.0.0.1 at 2013-01-04 00:12:42 +0900
Processing by StagesController#show as HTML
  Parameters: {"project_id"=>"1", "id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1  [["id", "1"]]
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.1ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mRecipe Load (0.1ms)[0m  SELECT "recipes".* FROM "recipes" INNER JOIN "recipes_stages" ON "recipes"."id" = "recipes_stages"."recipe_id" WHERE "recipes_stages"."stage_id" = 1 ORDER BY name ASC
  [1m[36m (0.2ms)[0m  [1mSELECT DISTINCT COUNT(DISTINCT "hosts"."id") FROM "hosts" INNER JOIN "roles" ON "hosts"."id" = "roles"."host_id" WHERE "roles"."stage_id" = 1[0m
  Rendered stages/_configs.html.erb (0.2ms)
  Rendered stages/_effective_config.html.erb (1.5ms)
  [1m[35mRecipe Load (0.1ms)[0m  SELECT "recipes".* FROM "recipes" INNER JOIN "recipes_stages" ON "recipes"."id" = "recipes_stages"."recipe_id" WHERE "recipes_stages"."stage_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "recipes".* FROM "recipes" INNER JOIN "recipes_stages" ON "recipes"."id" = "recipes_stages"."recipe_id" WHERE "recipes_stages"."stage_id" = 1 ORDER BY name ASC[0m
  Rendered stages/_recipes.html.erb (2.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT DISTINCT COUNT(DISTINCT "hosts"."id") FROM "hosts" INNER JOIN "roles" ON "hosts"."id" = "roles"."host_id" WHERE "roles"."stage_id" = 1
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT "roles".* FROM "roles" WHERE "roles"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mHost Load (0.1ms)[0m  SELECT "hosts".* FROM "hosts" WHERE "hosts"."id" = 2 LIMIT 1
  [1m[36mDeployment Load (0.2ms)[0m  [1mSELECT "deployments".* FROM "deployments" INNER JOIN "deployments_roles" ON "deployments"."id" = "deployments_roles"."deployment_id" WHERE "deployments_roles"."role_id" = 1[0m
  Rendered stages/_roles.html.erb (5.8ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "deployments" WHERE "deployments"."stage_id" = 1
  [1m[36mDeployment Load (0.2ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."stage_id" = 1 ORDER BY created_at DESC[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  Rendered deployments/_list_item.html.erb (20.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "deployments" WHERE "deployments"."stage_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "deployments" WHERE "deployments"."stage_id" = 1
  Rendered stages/_deployments.html.erb (23.7ms)
  Rendered stages/show.html.erb within layouts/application (46.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" ORDER BY name ASC
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stages" WHERE "stages"."project_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "projects" [0m
  Rendered layouts/_projects.html.erb (4.1ms)
  Rendered layouts/_menu_box.html.erb (4.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "hosts" 
  [1m[36mHost Load (0.1ms)[0m  [1mSELECT "hosts".* FROM "hosts" ORDER BY name ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "hosts" 
  Rendered layouts/_hosts.html.erb (3.3ms)
  Rendered layouts/_menu_box.html.erb (4.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mRecipe Load (0.1ms)[0m  [1mSELECT "recipes".* FROM "recipes" ORDER BY name ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "recipes" 
  Rendered layouts/_recipes.html.erb (1.6ms)
  Rendered layouts/_menu_box.html.erb (2.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY login ASC[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "users" 
  Rendered layouts/_users.html.erb (1.7ms)
  Rendered layouts/_menu_box.html.erb (2.7ms)
  Rendered layouts/_menu.html.erb (17.5ms)
Completed 200 OK in 101ms (Views: 68.8ms | ActiveRecord: 3.1ms)


Started GET "/projects/1/stages/1/deployments/new?task=deploy:hello" for 127.0.0.1 at 2013-01-04 00:12:48 +0900
Processing by DeploymentsController#new as HTML
  Parameters: {"task"=>"deploy:hello", "project_id"=>"1", "stage_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1[0m  [["id", "1"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" WHERE "roles"."stage_id" = 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.1ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mHost Load (0.2ms)[0m  SELECT DISTINCT "hosts".* FROM "hosts" INNER JOIN "roles" ON "hosts"."id" = "roles"."host_id" WHERE "roles"."stage_id" = 1
  Rendered deployments/_form.html.erb (3.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" WHERE "roles"."stage_id" = 1[0m
  Rendered deployments/new.html.erb within layouts/application (7.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "projects" 
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" ORDER BY name ASC[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 ORDER BY name ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stages" WHERE "stages"."project_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" 
  Rendered layouts/_projects.html.erb (4.2ms)
  Rendered layouts/_menu_box.html.erb (5.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  [1m[35mHost Load (0.1ms)[0m  SELECT "hosts".* FROM "hosts" ORDER BY name ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  Rendered layouts/_hosts.html.erb (3.3ms)
  Rendered layouts/_menu_box.html.erb (4.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mRecipe Load (0.1ms)[0m  SELECT "recipes".* FROM "recipes" ORDER BY name ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  Rendered layouts/_recipes.html.erb (1.6ms)
  Rendered layouts/_menu_box.html.erb (2.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" ORDER BY login ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  Rendered layouts/_users.html.erb (1.7ms)
  Rendered layouts/_menu_box.html.erb (2.4ms)
  Rendered layouts/_menu.html.erb (17.3ms)
Completed 200 OK in 40ms (Views: 29.9ms | ActiveRecord: 2.0ms)


Started POST "/projects/1/stages/1/deployments" for 127.0.0.1 at 2013-01-04 00:12:53 +0900
Processing by DeploymentsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"J+H6OEhthlXWOYnrKWUcgRd+qUe2NyRnRpYaXUF+fRM=", "deployment"=>{"task"=>"deploy:hello", "description"=>"ã¦ã™ã¨", "host_ids"=>["2"]}, "commit"=>"ãƒ‡ãƒ—ãƒ­ã‚¤å®Ÿè¡Œ", "project_id"=>"1", "stage_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1  [["id", "1"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "roles" WHERE "roles"."stage_id" = 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.1ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mHost Load (0.2ms)[0m  SELECT DISTINCT "hosts".* FROM "hosts" INNER JOIN "roles" ON "hosts"."id" = "roles"."host_id" WHERE "roles"."stage_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "roles" WHERE "roles"."stage_id" = 1[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mStage Load (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "stages" SET "locked" = 1 WHERE "stages"."id" = 1
  [1m[36mStage Load (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "roles" WHERE "roles"."stage_id" = 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "deployments" ("completed_at", "created_at", "description", "excluded_host_ids", "log", "pid", "revision", "stage_id", "status", "task", "updated_at", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["completed_at", nil], ["created_at", Thu, 03 Jan 2013 15:12:53 UTC +00:00], ["description", "ã¦ã™ã¨"], ["excluded_host_ids", "--- []\n"], ["log", nil], ["pid", nil], ["revision", nil], ["stage_id", 1], ["status", "running"], ["task", "deploy:hello"], ["updated_at", Thu, 03 Jan 2013 15:12:53 UTC +00:00], ["user_id", 1]]
  [1m[35mRole Load (0.1ms)[0m  SELECT "roles".* FROM "roles" WHERE "roles"."stage_id" = 1 ORDER BY name ASC
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "deployments_roles" ("deployment_id", "role_id") VALUES (6, 1)[0m
  [1m[35mStage Load (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "stages" SET "locked_by_deployment_id" = 6 WHERE "stages"."id" = 1[0m
  [1m[35mStage Load (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Calling other ruby process in the background in order to deploy deployment 6 (stage 1/staging)
Redirected to http://localhost:3000/projects/1/stages/1/deployments/6
Completed 302 Found in 29ms (ActiveRecord: 0.0ms)


Started GET "/projects/1/stages/1/deployments/6" for 127.0.0.1 at 2013-01-04 00:12:53 +0900
Processing by DeploymentsController#show as HTML
  Parameters: {"project_id"=>"1", "stage_id"=>"1", "id"=>"6"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1  [["id", "1"]]
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."stage_id" = 1 AND "deployments"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", "6"]]
  [1m[35mStage Load (0.2ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  Rendered deployments/_status.html.erb (5.2ms)
  Rendered deployments/show.html.erb within layouts/application (8.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "projects" 
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" ORDER BY name ASC[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 ORDER BY name ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stages" WHERE "stages"."project_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "projects" 
  Rendered layouts/_projects.html.erb (4.9ms)
  Rendered layouts/_menu_box.html.erb (5.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  [1m[35mHost Load (0.1ms)[0m  SELECT "hosts".* FROM "hosts" ORDER BY name ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "hosts" [0m
  Rendered layouts/_hosts.html.erb (3.6ms)
  Rendered layouts/_menu_box.html.erb (4.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "recipes" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  [1m[35mRecipe Load (0.1ms)[0m  SELECT "recipes".* FROM "recipes" ORDER BY name ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "recipes" [0m
  Rendered layouts/_recipes.html.erb (2.0ms)
  Rendered layouts/_menu_box.html.erb (2.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" 
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" ORDER BY login ASC
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users" [0m
  Rendered layouts/_users.html.erb (1.9ms)
  Rendered layouts/_menu_box.html.erb (2.9ms)
  Rendered layouts/_menu.html.erb (20.1ms)
Completed 200 OK in 39ms (Views: 33.1ms | ActiveRecord: 1.8ms)
Connecting to database specified by database.yml


Started GET "/projects/1/stages/1/deployments/6.js" for 127.0.0.1 at 2013-01-04 00:12:59 +0900
Processing by DeploymentsController#show as JS
  Parameters: {"project_id"=>"1", "stage_id"=>"1", "id"=>"6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1  [["id", "1"]]
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."stage_id" = 1 AND "deployments"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", "6"]]
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/kametaro-main/.rvm/rubies/ruby-1.9.3-p327/lib/ruby/1.9.1/benchmark.rb:295)
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  Rendered deployments/_status.html.erb (4.5ms)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 0.5ms)
  [1m[36mDeployment Load (6.9ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mRole Load (0.2ms)[0m  SELECT "roles".* FROM "roles" INNER JOIN "deployments_roles" ON "roles"."id" = "deployments_roles"."role_id" WHERE "deployments_roles"."deployment_id" = 6
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mHost Load (0.1ms)[0m  [1mSELECT "hosts".* FROM "hosts" WHERE "hosts"."id" = 2 LIMIT 1[0m
  [1m[35mRecipe Load (0.2ms)[0m  SELECT "recipes".* FROM "recipes" INNER JOIN "recipes_stages" ON "recipes"."id" = "recipes_stages"."recipe_id" WHERE "recipes_stages"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
', "updated_at" = '2013-01-03 15:12:59.711501', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 6[0m
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
', "updated_at" = '2013-01-03 15:12:59.732284', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 6
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.4ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 970ms
', "updated_at" = '2013-01-03 15:13:00.714972', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 6[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  UPDATE "deployments" SET "revision" = '7ee2931f025cdf9aa1b333a7d01d9e9ac35e23a5', "updated_at" = '2013-01-03 15:13:00.720129', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 6
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mUPDATE "deployments" SET "pid" = 73268, "updated_at" = '2013-01-03 15:13:00.722914', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 6[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 970ms
 * executing `deploy:hello''
', "updated_at" = '2013-01-03 15:13:00.731846', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 6
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.1ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 970ms
 * executing `deploy:hello''
 * executing "uname -a"
', "updated_at" = '2013-01-03 15:13:00.741041', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 6[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.3ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 970ms
 * executing `deploy:hello''
 * executing "uname -a"
 servers: ["49.212.141.250"]
', "updated_at" = '2013-01-03 15:13:00.750249', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 6
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.4ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.4ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 970ms
 * executing `deploy:hello''
 * executing "uname -a"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
', "updated_at" = '2013-01-03 15:13:01.356604', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 6[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36mProject Load (0.3ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m
  [1m[35mProjectConfiguration Load (0.5ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC
  [1m[36mStageConfiguration Load (0.2ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC[0m
  [1m[35mDeployment Load (0.1ms)[0m  SELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  UPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 970ms
 * executing `deploy:hello''
 * executing "uname -a"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 ** [out :: 49.212.141.250] Linux ww8476ue.sakura.ne.jp 2.6.32-220.13.1.el6.x86_64 #1 SMP Tue Apr 17 23:56:34 BST 2012 x86_64 x86_64 x86_64 GNU/Linux
', "updated_at" = '2013-01-03 15:13:01.424012', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 6
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35mProject Load (0.2ms)[0m  SELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1
  [1m[36mProjectConfiguration Load (0.3ms)[0m  [1mSELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('ProjectConfiguration') AND "configuration_parameters"."project_id" = 1 ORDER BY name ASC[0m
  [1m[35mStageConfiguration Load (0.2ms)[0m  SELECT "configuration_parameters".* FROM "configuration_parameters" WHERE "configuration_parameters"."type" IN ('StageConfiguration') AND "configuration_parameters"."stage_id" = 1 ORDER BY name ASC
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mStage Load (0.1ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mUPDATE "deployments" SET "log" = ' ** loading stage recipe ''uname''
 executing locally: "git ls-remote https://github.com/kametaro/skelton.git HEAD"
 command finished in 970ms
 * executing `deploy:hello''
 * executing "uname -a"
 servers: ["49.212.141.250"]
 [49.212.141.250] executing command
 ** [out :: 49.212.141.250] Linux ww8476ue.sakura.ne.jp 2.6.32-220.13.1.el6.x86_64 #1 SMP Tue Apr 17 23:56:34 BST 2012 x86_64 x86_64 x86_64 GNU/Linux
 command finished in 129ms
', "updated_at" = '2013-01-03 15:13:01.435829', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 6[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mStage Load (0.0ms)[0m  [1mSELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "stages" SET "locked" = 0 WHERE "stages"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "stages" SET "locked_by_deployment_id" = NULL WHERE "stages"."id" = 1[0m
  [1m[35mStage Load (0.0ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mUPDATE "deployments" SET "status" = 'success', "completed_at" = '2013-01-03 15:13:01.441657', "updated_at" = '2013-01-03 15:13:01.442116', "excluded_host_ids" = '--- []
' WHERE "deployments"."id" = 6[0m
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mProject Load (0.2ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = 1 LIMIT 1[0m

Sent mail to rt.kametaro@gmail.com (84ms)
Date: Fri, 04 Jan 2013 00:13:01 +0900
From: Webistrano
To: rt.kametaro@gmail.com
Message-ID: <50e59ffd9175a_11e343fe4c0835ad855057@tsuji-no-Mac-mini.local.mail>
Subject: Deployment of skelton/staging finished: success
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit




Started GET "/projects/1/stages/1/deployments/6.js" for 127.0.0.1 at 2013-01-04 00:13:04 +0900
Processing by DeploymentsController#show as JS
  Parameters: {"project_id"=>"1", "stage_id"=>"1", "id"=>"6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mProject Load (0.1ms)[0m  [1mSELECT "projects".* FROM "projects" WHERE "projects"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."project_id" = 1 AND "stages"."id" = ? ORDER BY name ASC LIMIT 1  [["id", "1"]]
  [1m[36mDeployment Load (0.1ms)[0m  [1mSELECT "deployments".* FROM "deployments" WHERE "deployments"."stage_id" = 1 AND "deployments"."id" = ? ORDER BY created_at DESC LIMIT 1[0m  [["id", "6"]]
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/kametaro-main/.rvm/rubies/ruby-1.9.3-p327/lib/ruby/1.9.1/benchmark.rb:295)
  [1m[35mStage Load (0.1ms)[0m  SELECT "stages".* FROM "stages" WHERE "stages"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  Rendered deployments/_status.html.erb (4.2ms)
Completed 200 OK in 10ms (Views: 5.4ms | ActiveRecord: 0.6ms)
Connecting to database specified by database.yml
